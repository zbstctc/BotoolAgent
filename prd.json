{
  "project": "BotoolAgent Dashboard \u91cd\u6784 + Worktree \u5e76\u53d1\u6267\u884c",
  "branchName": "botool/dashboard-worktree-unified",
  "description": "\u7edf\u4e00\u9700\u6c42\u5361\u7247\uff08\u5408\u5e76 Project + PRD + Session \u4e3a Requirement \u5b9e\u4f53\uff09+ 6 \u9636\u6bb5\u8fdb\u5ea6 + Worktree \u5e76\u53d1\u6267\u884c + Header Tab Bar",
  "prdFile": "tasks/prd-dashboard-worktree-unified.md",
  "constitution": {
    "rules": [
      {
        "id": "rule-001",
        "name": "API\u8bbe\u8ba1\u89c4\u8303",
        "category": "backend",
        "content": "# API \u8bbe\u8ba1\u89c4\u8303\n\n## \u8def\u7531\u7ed3\u6784\uff08Next.js App Router\uff09\n- \u8def\u7531\u6587\u4ef6\u56fa\u5b9a\u4e3a `route.ts`\uff0c\u653e\u5728 `src/app/api/{feature}/` \u4e0b\n- \u5d4c\u5957\u8d44\u6e90\u4f7f\u7528\u5b50\u76ee\u5f55\uff1a`/api/prd/[id]/route.ts`\u3001`/api/prd/save/route.ts`\n- \u52a8\u6001\u53c2\u6570\u4f7f\u7528 `[param]` \u76ee\u5f55\u540d\n\n## HTTP \u65b9\u6cd5\n- `GET`\uff1a\u67e5\u8be2/\u5217\u8868\n- `POST`\uff1a\u521b\u5efa/\u6267\u884c\u64cd\u4f5c\n- `DELETE`\uff1a\u5220\u9664\u8d44\u6e90\n- \u5bfc\u51fa\u683c\u5f0f\uff1a`export async function GET(request: NextRequest) { ... }`\n\n## \u8bf7\u6c42\u89e3\u6790\n- JSON body\uff1a`const body = await request.json()`\n- Query params\uff1a`const searchParams = request.nextUrl.searchParams; searchParams.get('key')`\n- \u8def\u5f84\u53c2\u6570\uff1a`{ params }: { params: Promise<{ id: string }> }` \u7136\u540e `const { id } = await params`\n\n## \u54cd\u5e94\u683c\u5f0f\n- \u6210\u529f\uff1a`NextResponse.json({ data })` \u6216 `NextResponse.json({ success: true, ... })`\n- \u9519\u8bef\uff1a`NextResponse.json({ error: '\u63cf\u8ff0' }, { status: 4xx/5xx })`\n- \u6d41\u5f0f\uff1a`new Response(stream, { headers: { 'Content-Type': 'text/event-stream', 'Cache-Control': 'no-cache' } })`\n\n## \u72b6\u6001\u7801\n- `200`\uff1a\u6210\u529f\n- `201`\uff1a\u521b\u5efa\u6210\u529f\n- `400`\uff1a\u53c2\u6570\u9519\u8bef\n- `404`\uff1a\u8d44\u6e90\u4e0d\u5b58\u5728\n- `409`\uff1a\u51b2\u7a81\uff08\u5982 Agent \u5df2\u5728\u8fd0\u884c\uff09\n- `500`\uff1a\u670d\u52a1\u5668\u9519\u8bef\n\n## \u9519\u8bef\u5904\u7406\n- \u6bcf\u4e2a handler \u7528 try/catch \u5305\u88f9\n- `catch` \u4e2d\u8bb0\u5f55 `console.error()`\uff0c\u8fd4\u56de\u901a\u7528\u9519\u8bef\u6d88\u606f\n- \u7981\u6b62\u5728\u9519\u8bef\u54cd\u5e94\u4e2d\u66b4\u9732\u5185\u90e8\u8def\u5f84\u6216\u5806\u6808\u4fe1\u606f\n- \u8f93\u5165\u6821\u9a8c\u5728 handler \u9876\u90e8\u5b8c\u6210\uff0c\u4e0d\u5408\u6cd5\u7acb\u5373 return 400\n\n## SSE \u6d41\u5f0f\u54cd\u5e94\u6a21\u5f0f\n```typescript\nconst encoder = new TextEncoder();\nlet controller: ReadableStreamDefaultController | null = null;\nconst stream = new ReadableStream({\n  start(c) { controller = c; },\n  cancel() { /* cleanup */ }\n});\ncontroller?.enqueue(encoder.encode(`data: ${JSON.stringify(payload)}\\n\\n`));\ncontroller?.close();\nreturn new Response(stream, {\n  headers: { 'Content-Type': 'text/event-stream', 'Cache-Control': 'no-cache', Connection: 'keep-alive' },\n});\n```\n\n## \u5b50\u8fdb\u7a0b spawn \u89c4\u8303\n- \u5fc5\u987b\u79fb\u9664 `CLAUDECODE` \u73af\u5883\u53d8\u91cf\u9632\u6b62\u5d4c\u5957 session \u9519\u8bef\n- \u957f\u65f6\u95f4\u8fd0\u884c\u7684\u8fdb\u7a0b\u4f7f\u7528 `detached: true` + `child.unref()`\n- PID \u5199\u5165 `.state/agent-pid` \u6587\u4ef6\u7528\u4e8e\u8fdb\u7a0b\u7ba1\u7406\n\n## \u6587\u4ef6\u7cfb\u7edf\u64cd\u4f5c\n- \u4f7f\u7528 `@/lib/project-root` \u4e2d\u7684\u8def\u5f84\u51fd\u6570\u83b7\u53d6\u7edd\u5bf9\u8def\u5f84\n- \u68c0\u67e5\u6587\u4ef6\u5b58\u5728\u7528 `fs.existsSync()`\uff0c\u8bfb\u53d6\u7528 `fs.readFileSync(path, 'utf-8')`\n- \u5199\u5165\u6587\u4ef6\u524d\u786e\u4fdd\u76ee\u5f55\u5b58\u5728"
      },
      {
        "id": "rule-002",
        "name": "\u524d\u7aef\u547d\u540d\u89c4\u8303",
        "category": "frontend",
        "content": "# \u524d\u7aef\u547d\u540d\u89c4\u8303\n\n## \u7ec4\u4ef6\u547d\u540d\n- \u4f7f\u7528 PascalCase \u547d\u540d\u7ec4\u4ef6\u6587\u4ef6\u548c\u5bfc\u51fa\u540d\uff08`ProjectCard.tsx` \u2192 `export function ProjectCard()`\uff09\n- \u6587\u4ef6\u540d\u4e0e\u7ec4\u4ef6\u540d\u4fdd\u6301\u4e00\u81f4\n- \u590d\u5408\u7ec4\u4ef6\u653e\u5728\u540c\u540d\u5b50\u76ee\u5f55\u4e2d\n- \u4f7f\u7528 barrel exports\uff08`index.ts`\uff09\u7edf\u4e00\u5bfc\u51fa\n\n## Props \u63a5\u53e3\u547d\u540d\n- Props \u63a5\u53e3\u4f7f\u7528 `{ComponentName}Props` \u683c\u5f0f\n- \u5728\u7ec4\u4ef6\u6587\u4ef6\u5185\u5b9a\u4e49\uff0c\u4f7f\u7528 `export interface`\n- \u82e5 Props \u7b80\u5355\uff082-3 \u4e2a\u5c5e\u6027\uff09\uff0c\u53ef\u7528\u5185\u8054\u89e3\u6784\n\n## Hooks \u547d\u540d\n- \u7edf\u4e00\u4f7f\u7528 `use` \u524d\u7f00 + camelCase\n- \u6587\u4ef6\u540d\u4e0e hook \u540d\u4e00\u81f4\n- \u901a\u8fc7 `hooks/index.ts` \u7edf\u4e00\u5bfc\u51fa\n\n## Context \u547d\u540d\n- Context \u4f7f\u7528 PascalCase\uff08`ProjectContext`\uff09\n- Provider \u4f7f\u7528 `{Name}Provider`\n- \u6d88\u8d39 hook \u4f7f\u7528 `use{Name}`\n\n## \u53d8\u91cf\u547d\u540d\n- \u53d8\u91cf\u548c\u51fd\u6570\u4f7f\u7528 camelCase\n- \u5e38\u91cf\u4f7f\u7528 UPPER_CASE\n- \u5e03\u5c14\u53d8\u91cf\u4f7f\u7528 `is/has/should` \u524d\u7f00\n\n## TypeScript \u7c7b\u578b\n- \u5bf9\u8c61\u5f62\u72b6\u4f7f\u7528 `interface`\uff08\u9996\u9009\uff09\n- \u8054\u5408\u7c7b\u578b\u4f7f\u7528 `type`\n- \u7c7b\u578b\u5b88\u536b\u4f7f\u7528 `is{TypeName}` \u547d\u540d"
      },
      {
        "id": "rule-003",
        "name": "\u524d\u7aef\u6d4b\u8bd5\u89c4\u8303",
        "category": "frontend",
        "content": "# \u524d\u7aef\u6d4b\u8bd5\u89c4\u8303\n\n## \u6d4b\u8bd5\u6846\u67b6\n- E2E \u6d4b\u8bd5\u4f7f\u7528 Playwright\n- \u6d4b\u8bd5\u6587\u4ef6\u653e\u5728 `tests/` \u76ee\u5f55\uff0c\u4ee5 `.spec.ts` \u7ed3\u5c3e\n\n## \u7ec4\u4ef6\u6d4b\u8bd5\n- \u6bcf\u4e2a\u5173\u952e\u7ec4\u4ef6\u5e94\u6709\u5bf9\u5e94\u7684\u6d4b\u8bd5\u7528\u4f8b\n- \u6d4b\u8bd5\u6587\u4ef6\u547d\u540d\uff1a`{ComponentName}.spec.ts`\n- \u8986\u76d6\uff1a\u6b63\u5e38\u6e32\u67d3\u3001\u4ea4\u4e92\u884c\u4e3a\u3001\u8fb9\u754c\u72b6\u6001\n\n## E2E \u6d4b\u8bd5\u8981\u6c42\n- \u5173\u952e\u7528\u6237\u6d41\u7a0b\u5fc5\u987b\u6709 E2E \u6d4b\u8bd5\u8986\u76d6\n- 5 \u9636\u6bb5\u5de5\u4f5c\u6d41\u5404\u81ea\u7684\u6838\u5fc3\u8def\u5f84\n- \u6d4b\u8bd5\u5e94\u72ec\u7acb\u8fd0\u884c\uff0c\u4e0d\u4f9d\u8d56\u5176\u4ed6\u6d4b\u8bd5\u7684\u72b6\u6001\n\n## \u65ad\u8a00\u89c4\u8303\n- \u4f7f\u7528 Playwright \u7684 `expect()` \u65ad\u8a00\n- \u9875\u9762\u5bfc\u822a\u540e\u7b49\u5f85\u5143\u7d20\u51fa\u73b0\n- \u7f51\u7edc\u8bf7\u6c42\u9a8c\u8bc1\u4f7f\u7528 `page.waitForResponse()`"
      },
      {
        "id": "rule-004",
        "name": "\u524d\u7aef\u6837\u5f0f\u89c4\u8303",
        "category": "frontend",
        "content": "# \u524d\u7aef\u6837\u5f0f\u89c4\u8303\n\n## \u8bbe\u8ba1\u7406\u5ff5\uff1a\u5ca9\u77f3\u8272\u7cfb (Rock Palette)\n- \u9ed1\u767d\u7070\u4e3a\u4e3b\u7684\u5355\u8272\u7cfb\uff0c\u6c89\u7a33\u3001\u4e13\u4e1a\u3001\u514b\u5236\n- \u6309\u94ae\u5168\u90e8\u9ed1\u8272\uff1a\u4e3b\u6309\u94ae\u7528\u9ed1\u5e95\u767d\u5b57\n- \u5f69\u8272\u4ec5\u7528\u4e8e\u72b6\u6001\u6307\u793a\uff1a\u6210\u529f(\u7eff)\u3001\u9519\u8bef(\u7ea2)\u3001\u8b66\u544a(\u7425\u73c0)\u3001\u8fdb\u884c\u4e2d(\u84dd)\n- \u7981\u7528\u5f69\u8272\u6309\u94ae\n\n## Tailwind CSS \u4f18\u5148\n- \u6240\u6709\u6837\u5f0f\u5fc5\u987b\u4f7f\u7528 Tailwind \u5de5\u5177\u7c7b\n\n## \u4e3b\u8272\u7cfb\uff1aneutral\n- \u7eaf\u9ed1 `neutral-900` | \u6df1\u7070 `neutral-600` | \u4e2d\u7070 `neutral-500` | \u6d45\u7070 `neutral-400` | \u8fb9\u6846 `neutral-200` | \u6d45\u5e95\u8272 `neutral-100` | \u80cc\u666f `neutral-50`\n\n## \u6309\u94ae\u6837\u5f0f\n- \u4e3b\u6309\u94ae\uff1a`bg-neutral-900 text-white hover:bg-neutral-800`\n- \u6b21\u6309\u94ae\uff1a`border border-neutral-300 text-neutral-700 bg-white`\n- \u5371\u9669\u6309\u94ae\uff1a`bg-red-600 text-white`\uff08\u552f\u4e00\u5141\u8bb8\u7684\u5f69\u8272\u6309\u94ae\uff09\n- \u5e7d\u7075\u6309\u94ae\uff1a`text-neutral-600 hover:text-neutral-900`\n\n## \u5f39\u7a97/\u5bf9\u8bdd\u6846\n- \u6240\u6709\u5f39\u7a97\u548c\u4e0b\u62c9\u6846\u5fc5\u987b\u4f7f\u7528\u767d\u8272\u80cc\u666f\uff08`bg-white`\uff09\uff0c\u4e25\u7981\u900f\u660e\n\n## \u5706\u89d2\uff1a`rounded-lg` | \u8fb9\u6846\uff1a`border border-neutral-200` | \u56fe\u6807\uff1alucide-react"
      },
      {
        "id": "rule-005",
        "name": "\u6d4b\u8bd5\u7528\u4f8b\u89c4\u8303",
        "category": "testing",
        "content": "# \u6d4b\u8bd5\u7528\u4f8b\u89c4\u8303\n\n## \u6d4b\u8bd5\u547d\u540d\n- \u4f7f\u7528 `describe` \u63cf\u8ff0\u6d4b\u8bd5\u5957\u4ef6\n- \u4f7f\u7528 `it` \u6216 `test` \u63cf\u8ff0\u5177\u4f53\u884c\u4e3a\n- \u6587\u4ef6\u547d\u540d\uff1a`{feature}.spec.ts`\n\n## \u6d4b\u8bd5\u8986\u76d6\u8981\u6c42\n- \u5355\u5143\u6d4b\u8bd5\u8986\u76d6\u7387 > 80%\n- \u6bcf\u4e2a API \u7aef\u70b9\u81f3\u5c11\u4e00\u4e2a\u6b63\u5e38\u8def\u5f84 + \u4e00\u4e2a\u9519\u8bef\u8def\u5f84\u6d4b\u8bd5\n- \u5173\u952e\u7528\u6237\u6d41\u7a0b\u5fc5\u987b\u6709 E2E \u6d4b\u8bd5\n\n## E2E \u6d4b\u8bd5\uff08Playwright\uff09\n- \u914d\u7f6e\u6587\u4ef6\uff1a`playwright.config.ts`\n- \u6d4b\u8bd5\u76ee\u5f55\uff1a`tests/`\n\n## API \u6d4b\u8bd5\u6a21\u5f0f\n```typescript\ndescribe('POST /api/prd/save', () => {\n  it('should save PRD content and return id', async () => { ... });\n  it('should return 400 for empty content', async () => { ... });\n});\n```\n\n## TypeScript \u89c4\u8303\n- \u6d4b\u8bd5\u6587\u4ef6\u4f7f\u7528 TypeScript\uff08`.spec.ts`\uff09\n- Typecheck \u5fc5\u987b\u901a\u8fc7\uff1a`npx tsc --noEmit`"
      },
      {
        "id": "rule-006",
        "name": "\u5e94\u7528\u72b6\u6001\u7ba1\u7406\u89c4\u8303",
        "category": "application",
        "content": "# \u5e94\u7528\u72b6\u6001\u7ba1\u7406\u89c4\u8303\n\n## \u72b6\u6001\u5c42\u7ea7\n1. React Context\uff08\u5168\u5c40\u5171\u4eab\u72b6\u6001\uff09\n2. localStorage\uff08\u6301\u4e45\u5316\uff09\uff1a\u901a\u8fc7 `lib/project-storage.ts` \u548c `lib/prd-session-storage.ts` \u7ba1\u7406\n3. \u7ec4\u4ef6 state\uff08\u5c40\u90e8\u72b6\u6001\uff09\n4. URL params\uff08\u8def\u7531\u72b6\u6001\uff09\n\n## Context \u4f7f\u7528\u6a21\u5f0f\n```typescript\nconst MyContext = createContext<ContextValue | null>(null);\nexport function MyProvider({ children }) { ... }\nexport function useMy(): ContextValue {\n  const context = useContext(MyContext);\n  if (!context) throw new Error('useMy must be used within MyProvider');\n  return context;\n}\n```\n\n## localStorage \u5b58\u50a8\n- \u6240\u6709 key \u5fc5\u987b\u901a\u8fc7 `scopedKey()` \u6dfb\u52a0 workspace \u524d\u7f00\n- \u8bfb\u53d6\u65f6\u68c0\u67e5 `typeof window === 'undefined'` \u9632\u6b62 SSR \u9519\u8bef\n- \u5199\u5165\u4f7f\u7528 debounce\uff08500ms\uff09\n- \u6570\u636e\u7ed3\u6784\u5305\u542b `version` \u5b57\u6bb5\n\n## SSR \u5b89\u5168\n- `localStorage` \u8bbf\u95ee\u5fc5\u987b\u5728 `useEffect` \u6216\u6761\u4ef6\u5224\u65ad\u4e2d\n- \u6240\u6709\u4f7f\u7528\u6d4f\u89c8\u5668 API \u7684\u7ec4\u4ef6\u5fc5\u987b\u6807\u8bb0 `'use client'`"
      },
      {
        "id": "rule-007",
        "name": "\u9879\u76ee\u7ed3\u6784\u89c4\u8303",
        "category": "application",
        "content": "# \u9879\u76ee\u7ed3\u6784\u89c4\u8303\n\n## \u76ee\u5f55\u7ed3\u6784\n```\nviewer/src/\n\u251c\u2500\u2500 app/              # Next.js App Router\n\u2502   \u251c\u2500\u2500 api/          # API \u8def\u7531\uff08\u670d\u52a1\u7aef\uff09\n\u2502   \u251c\u2500\u2500 stage{1-5}/   # 5 \u9636\u6bb5\u9875\u9762\n\u2502   \u251c\u2500\u2500 page.tsx      # Dashboard \u9996\u9875\n\u2502   \u251c\u2500\u2500 layout.tsx    # \u6839\u5e03\u5c40\n\u2502   \u2514\u2500\u2500 globals.css   # \u5168\u5c40\u6837\u5f0f\n\u251c\u2500\u2500 components/       # UI \u7ec4\u4ef6\n\u251c\u2500\u2500 contexts/         # React Context\n\u251c\u2500\u2500 hooks/            # \u81ea\u5b9a\u4e49 Hooks\n\u2514\u2500\u2500 lib/              # \u5de5\u5177\u5e93\n```\n\n## \u6587\u4ef6\u804c\u8d23\n- page.tsx\uff1a\u9875\u9762\u5165\u53e3\uff0c\u7ec4\u5408\u7ec4\u4ef6\n- components/\uff1a\u7eaf UI \u903b\u8f91\n- hooks/\uff1a\u53ef\u590d\u7528\u7684\u72b6\u6001\u903b\u8f91\n- lib/\uff1a\u7eaf\u5de5\u5177\u51fd\u6570\n- contexts/\uff1a\u5168\u5c40\u5171\u4eab\u72b6\u6001\n\n## \u65b0\u6587\u4ef6\u89c4\u5219\n- \u65b0\u7ec4\u4ef6\u5148\u68c0\u67e5 components/ \u662f\u5426\u6709\u53ef\u590d\u7528\u7684\n- \u65b0 API \u9075\u5faa RESTful \u547d\u540d\n- \u65b0 hook \u5fc5\u987b\u4ee5 use \u524d\u7f00\u547d\u540d\n- \u65b0\u5efa\u6587\u4ef6\u540e\u5fc5\u987b\u66f4\u65b0\u5bf9\u5e94\u7684 barrel index.ts\n\n## \u6280\u672f\u6808\u7248\u672c\n- Next.js 16+ (App Router) | React 19+ | TypeScript 5+ (strict) | Tailwind CSS 4+ | Playwright"
      }
    ],
    "ruleAuditSummary": ""
  },
  "devTasks": [
    {
      "id": "DT-000a",
      "title": "\u9879\u76ee\u76ee\u5f55\u7ed3\u6784\u91cd\u7ec4 \u2014 tasks/{id}/ per-project \u6587\u4ef6\u5939",
      "prdSection": "7.1 (L482-645)",
      "priority": 1,
      "passes": true,
      "dependsOn": [],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        },
        {
          "type": "code-based",
          "blocking": true,
          "description": "project-root.ts exists",
          "command": "test -f viewer/src/lib/project-root.ts",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "unit",
          "desc": "getProjectDir/getProjectPrdJsonPath/getAgentStatusPath \u8def\u5f84\u51fd\u6570\u6b63\u786e",
          "tdd": true
        },
        {
          "type": "unit",
          "desc": "normalizeProjectId \u9632\u8def\u5f84\u7a7f\u8d8a",
          "tdd": true
        }
      ]
    },
    {
      "id": "DT-000",
      "title": "\u6d88\u9664\u6839\u76ee\u5f55 prd.json \u53cc\u5199\uff0c\u7edf\u4e00\u4e3a per-project \u5355\u6e90\u8def\u5f84",
      "prdSection": "7.1 (L482-645)",
      "priority": 2,
      "passes": true,
      "dependsOn": [
        "DT-000a"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "integration",
          "desc": "\u4e24\u4e2a\u4e0d\u540c projectId \u7684 Lead Agent \u5404\u81ea\u53ea\u8bfb\u5199\u81ea\u5df1\u7684 prd.json"
        }
      ]
    },
    {
      "id": "DT-001",
      "title": "BotoolAgent.sh \u6dfb\u52a0 --project-id \u53c2\u6570\uff0c\u52a8\u6001\u751f\u6210 SESSION_NAME",
      "prdSection": "7.1 (L482-645)",
      "priority": 3,
      "passes": true,
      "dependsOn": [
        "DT-000"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "BotoolAgent.sh syntax check",
          "command": "bash -n scripts/BotoolAgent.sh",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "unit",
          "desc": "--project-id \u53c2\u6570\u89e3\u6790\u6b63\u786e"
        },
        {
          "type": "unit",
          "desc": "\u4ece --prd-path \u81ea\u52a8\u63d0\u53d6 project-id"
        },
        {
          "type": "integration",
          "desc": "tmux session \u540d\u5305\u542b project-id"
        }
      ]
    },
    {
      "id": "DT-002",
      "title": "BotoolAgent.sh \u6dfb\u52a0 worktree \u81ea\u52a8\u521b\u5efa/\u590d\u7528\u903b\u8f91",
      "prdSection": "7.1 (L482-645)",
      "priority": 4,
      "passes": false,
      "dependsOn": [
        "DT-001"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "BotoolAgent.sh syntax check",
          "command": "bash -n scripts/BotoolAgent.sh",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "unit",
          "desc": "\u9996\u6b21\u8fd0\u884c\u81ea\u52a8\u521b\u5efa worktree \u548c\u5206\u652f"
        },
        {
          "type": "unit",
          "desc": "\u4e8c\u6b21\u8fd0\u884c\u590d\u7528\u5df2\u6709 worktree"
        },
        {
          "type": "integration",
          "desc": "stall detection \u68c0\u6d4b\u5230 worktree \u4e2d\u7684\u65b0 commit"
        }
      ]
    },
    {
      "id": "DT-003",
      "title": "BotoolAgent.sh cleanup \u903b\u8f91\u66f4\u65b0",
      "prdSection": "7.1 (L482-645)",
      "priority": 5,
      "passes": false,
      "dependsOn": [
        "DT-001"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "BotoolAgent.sh syntax check",
          "command": "bash -n scripts/BotoolAgent.sh",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "unit",
          "desc": "cleanup \u53ea\u6740\u5f53\u524d project \u7684 tmux session"
        },
        {
          "type": "integration",
          "desc": "\u542f\u52a8\u9879\u76ee B \u65f6\u4e0d\u6740\u6b7b\u9879\u76ee A \u7684\u8fdb\u7a0b"
        }
      ]
    },
    {
      "id": "DT-004",
      "title": "API \u5c42\u9002\u914d per-project \u8def\u5f84",
      "prdSection": "7.2 (L646-687)",
      "priority": 6,
      "passes": false,
      "dependsOn": [
        "DT-000a"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "unit",
          "desc": "start/route.ts \u4f7f\u7528 per-project PID/Status \u8def\u5f84"
        }
      ]
    },
    {
      "id": "DT-005",
      "title": "/api/agent/start \u4f20\u9012 projectId",
      "prdSection": "7.2 (L646-687)",
      "priority": 7,
      "passes": false,
      "dependsOn": [
        "DT-004",
        "DT-001"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "integration",
          "desc": "\u4e24\u4e2a\u4e0d\u540c projectId \u53ef\u540c\u65f6\u542f\u52a8"
        },
        {
          "type": "unit",
          "desc": "[\u5b89\u5168] projectId \u5408\u6cd5\u6027\u6821\u9a8c"
        }
      ]
    },
    {
      "id": "DT-006",
      "title": "/api/agent/status \u652f\u6301 projectId \u67e5\u8be2",
      "prdSection": "7.2 (L646-687)",
      "priority": 8,
      "passes": false,
      "dependsOn": [
        "DT-004"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "unit",
          "desc": "\u6709 projectId \u8fd4\u56de\u5355\u4e2a\u9879\u76ee\u72b6\u6001"
        },
        {
          "type": "unit",
          "desc": "\u65e0 projectId \u8fd4\u56de\u6240\u6709\u6d3b\u8dc3\u9879\u76ee\u72b6\u6001"
        }
      ]
    },
    {
      "id": "DT-007",
      "title": "/api/agent/stop (DELETE) \u652f\u6301 projectId",
      "prdSection": "7.2 (L646-687)",
      "priority": 9,
      "passes": false,
      "dependsOn": [
        "DT-004"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "unit",
          "desc": "DELETE \u53ea\u505c\u6b62\u6307\u5b9a projectId \u7684\u8fdb\u7a0b"
        }
      ]
    },
    {
      "id": "DT-008",
      "title": "\u5b89\u88c5 shadcn Sheet + \u5b9a\u4e49 Requirement \u7c7b\u578b",
      "prdSection": "7.3 (L688-788)",
      "priority": 10,
      "passes": false,
      "dependsOn": [],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        },
        {
          "type": "code-based",
          "blocking": true,
          "description": "Sheet component exists",
          "command": "test -f viewer/src/components/ui/sheet.tsx",
          "expect": "exit-0"
        },
        {
          "type": "code-based",
          "blocking": true,
          "description": "Requirement types exist",
          "command": "test -f viewer/src/lib/requirement-types.ts",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        }
      ]
    },
    {
      "id": "DT-009",
      "title": "\u7edf\u4e00 /api/requirements \u7aef\u70b9",
      "prdSection": "7.3 (L688-788)",
      "priority": 11,
      "passes": false,
      "dependsOn": [
        "DT-000a"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        },
        {
          "type": "code-based",
          "blocking": true,
          "description": "Requirements route exists",
          "command": "test -f viewer/src/app/api/requirements/route.ts",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "unit",
          "desc": "DRAFT.md \u8fd4\u56de\u4e3a Stage 0 \u9700\u6c42"
        },
        {
          "type": "unit",
          "desc": "prd.md \u8fd4\u56de\u4e3a Stage 1+ \u9700\u6c42"
        },
        {
          "type": "unit",
          "desc": "\u5bfc\u5165 marker \u4e0d\u51fa\u73b0\u4e3a\u72ec\u7acb\u6761\u76ee"
        }
      ]
    },
    {
      "id": "DT-010",
      "title": "RequirementContext",
      "prdSection": "7.3 (L688-788)",
      "priority": 12,
      "passes": false,
      "dependsOn": [
        "DT-008",
        "DT-009"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        },
        {
          "type": "code-based",
          "blocking": true,
          "description": "RequirementContext exists",
          "command": "test -f viewer/src/contexts/RequirementContext.tsx",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "unit",
          "desc": "Context \u63d0\u4f9b\u5b8c\u6574\u9700\u6c42\u5217\u8868"
        },
        {
          "type": "unit",
          "desc": "CRUD \u64cd\u4f5c\u6b63\u5e38"
        }
      ]
    },
    {
      "id": "DT-011",
      "title": "StageProgressBar \u7ec4\u4ef6",
      "prdSection": "7.3 (L688-788)",
      "priority": 13,
      "passes": false,
      "dependsOn": [
        "DT-008"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        },
        {
          "type": "code-based",
          "blocking": true,
          "description": "StageProgressBar exists",
          "command": "test -f viewer/src/components/StageProgressBar.tsx",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "e2e",
          "desc": "\u6b63\u786e\u6e32\u67d3 6 \u4e2a\u9636\u6bb5\u8282\u70b9\uff0c\u5f53\u524d\u9636\u6bb5\u6709\u8109\u51b2\u52a8\u753b"
        }
      ]
    },
    {
      "id": "DT-012",
      "title": "RequirementCard \u7ec4\u4ef6",
      "prdSection": "7.3 (L688-788)",
      "priority": 14,
      "passes": false,
      "dependsOn": [
        "DT-011"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        },
        {
          "type": "code-based",
          "blocking": true,
          "description": "RequirementCard exists",
          "command": "test -f viewer/src/components/RequirementCard.tsx",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "e2e",
          "desc": "\u5361\u7247\u6b63\u786e\u663e\u793a\u9700\u6c42\u4fe1\u606f\u548c\u8fdb\u5ea6\u6761"
        },
        {
          "type": "e2e",
          "desc": "\u6309\u94ae\u548c\u5361\u7247\u70b9\u51fb\u5206\u522b\u89e6\u53d1\u4e0d\u540c\u56de\u8c03"
        }
      ]
    },
    {
      "id": "DT-013",
      "title": "StageTimeline + RequirementDrawer",
      "prdSection": "7.3 (L688-788)",
      "priority": 15,
      "passes": false,
      "dependsOn": [
        "DT-008"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        },
        {
          "type": "code-based",
          "blocking": true,
          "description": "StageTimeline exists",
          "command": "test -f viewer/src/components/StageTimeline.tsx",
          "expect": "exit-0"
        },
        {
          "type": "code-based",
          "blocking": true,
          "description": "RequirementDrawer exists",
          "command": "test -f viewer/src/components/RequirementDrawer.tsx",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "e2e",
          "desc": "\u62bd\u5c49\u4ece\u53f3\u4fa7\u6ed1\u51fa\uff0c\u65f6\u95f4\u7ebf\u6b63\u786e\u663e\u793a 6 \u4e2a\u9636\u6bb5"
        }
      ]
    },
    {
      "id": "DT-014",
      "title": "CreateRequirementDialog",
      "prdSection": "7.3 (L688-788)",
      "priority": 16,
      "passes": false,
      "dependsOn": [
        "DT-010"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        },
        {
          "type": "code-based",
          "blocking": true,
          "description": "CreateRequirementDialog exists",
          "command": "test -f viewer/src/components/CreateRequirementDialog.tsx",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "e2e",
          "desc": "\u4ece\u5934\u521b\u5efa\u6d41\u7a0b\u6b63\u5e38"
        },
        {
          "type": "e2e",
          "desc": "\u5bfc\u5165\u6587\u4ef6\u6d41\u7a0b\u6b63\u5e38"
        }
      ]
    },
    {
      "id": "DT-015",
      "title": "Dashboard \u9875\u9762\u91cd\u5199",
      "prdSection": "7.3 (L688-788)",
      "priority": 17,
      "passes": false,
      "dependsOn": [
        "DT-010",
        "DT-011",
        "DT-012",
        "DT-013",
        "DT-014"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "e2e",
          "desc": "\u7b5b\u9009\u5668\u5de5\u4f5c\u6b63\u5e38"
        },
        {
          "type": "e2e",
          "desc": "\u641c\u7d22\u529f\u80fd\u6b63\u5e38"
        },
        {
          "type": "e2e",
          "desc": "\u5361\u7247\u70b9\u51fb\u5f00\u62bd\u5c49\uff0c\u6309\u94ae\u5f00 Tab/\u8df3\u8f6c"
        }
      ]
    },
    {
      "id": "DT-016",
      "title": "Rules \u8bbe\u7f6e\u9875\u9762",
      "prdSection": "7.3 (L688-788)",
      "priority": 18,
      "passes": false,
      "dependsOn": [],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        },
        {
          "type": "code-based",
          "blocking": true,
          "description": "Rules page exists",
          "command": "test -f viewer/src/app/rules/page.tsx",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "e2e",
          "desc": "/rules \u9875\u9762\u6e32\u67d3 RulesManager"
        }
      ]
    },
    {
      "id": "DT-017",
      "title": "Stage \u9875\u9762\u8def\u7531\u517c\u5bb9",
      "prdSection": "7.3 (L688-788)",
      "priority": 19,
      "passes": false,
      "dependsOn": [
        "DT-010"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "e2e",
          "desc": "/stage1?req={id} \u6b63\u786e\u89e3\u6790"
        },
        {
          "type": "e2e",
          "desc": "/stage1?session=xxx \u65e7 URL \u4ecd\u7136\u5de5\u4f5c"
        }
      ]
    },
    {
      "id": "DT-018",
      "title": "Stage 3 \u9875\u9762\u4f20\u9012 projectId \u5230 agent API",
      "prdSection": "7.4 (L789-858)",
      "priority": 20,
      "passes": false,
      "dependsOn": [
        "DT-005"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "e2e",
          "desc": "Stage 3 \u542f\u52a8 Agent \u65f6\u53d1\u9001 projectId"
        }
      ]
    },
    {
      "id": "DT-019",
      "title": "TabContext + tab-storage",
      "prdSection": "7.4 (L789-858)",
      "priority": 21,
      "passes": false,
      "dependsOn": [
        "DT-008"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        },
        {
          "type": "code-based",
          "blocking": true,
          "description": "TabContext exists",
          "command": "test -f viewer/src/contexts/TabContext.tsx",
          "expect": "exit-0"
        },
        {
          "type": "code-based",
          "blocking": true,
          "description": "tab-storage exists",
          "command": "test -f viewer/src/lib/tab-storage.ts",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "unit",
          "desc": "openTab \u521b\u5efa\u65b0 tab \u5e76\u5bfc\u822a",
          "tdd": true
        },
        {
          "type": "unit",
          "desc": "\u91cd\u590d openTab \u53ea\u5207\u6362\u4e0d\u521b\u5efa",
          "tdd": true
        },
        {
          "type": "unit",
          "desc": "closeTab Dashboard \u65e0\u6548",
          "tdd": true
        },
        {
          "type": "unit",
          "desc": "loadTabs/saveTabs localStorage \u8bfb\u5199",
          "tdd": true
        }
      ]
    },
    {
      "id": "DT-020",
      "title": "TabBar \u7ec4\u4ef6",
      "prdSection": "7.4 (L789-858)",
      "priority": 22,
      "passes": false,
      "dependsOn": [
        "DT-019"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        },
        {
          "type": "code-based",
          "blocking": true,
          "description": "TabBar exists",
          "command": "test -f viewer/src/components/TabBar.tsx",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "e2e",
          "desc": "Dashboard tab \u59cb\u7ec8\u7b2c\u4e00\u4f4d\u4e14\u4e0d\u53ef\u5173\u95ed"
        },
        {
          "type": "e2e",
          "desc": "\u5173\u95ed\u8fd0\u884c\u4e2d\u9879\u76ee\u5f39\u786e\u8ba4\u5bf9\u8bdd\u6846"
        }
      ]
    },
    {
      "id": "DT-021",
      "title": "\u91cd\u5199 Header \u4e3a Tab Bar \u5e03\u5c40",
      "prdSection": "7.4 (L789-858)",
      "priority": 23,
      "passes": false,
      "dependsOn": [
        "DT-020"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "e2e",
          "desc": "Header \u663e\u793a tab bar\uff0cBrand \u5728\u5de6\uff0crepoName/Usage \u5728\u53f3"
        }
      ]
    },
    {
      "id": "DT-022",
      "title": "TabProvider \u63a5\u5165 layout",
      "prdSection": "7.4 (L789-858)",
      "priority": 24,
      "passes": false,
      "dependsOn": [
        "DT-019",
        "DT-010"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "unit",
          "desc": "TabProvider \u6b63\u786e\u5305\u88f9\u5e94\u7528"
        }
      ]
    },
    {
      "id": "DT-023",
      "title": "Dashboard \u96c6\u6210 \u2014 \u5361\u7247/\u62bd\u5c49\u6253\u5f00 Tab",
      "prdSection": "7.4 (L789-858)",
      "priority": 25,
      "passes": false,
      "dependsOn": [
        "DT-015",
        "DT-019"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "e2e",
          "desc": "\u70b9\u51fb\u6309\u94ae \u2192 \u65b0 Tab + \u9875\u9762\u5207\u6362"
        },
        {
          "type": "e2e",
          "desc": "Dashboard tab \u2192 \u8fd4\u56de Dashboard"
        }
      ]
    },
    {
      "id": "DT-024",
      "title": "Tab \u72b6\u6001\u4e0e\u8def\u7531\u540c\u6b65",
      "prdSection": "7.4 (L789-858)",
      "priority": 26,
      "passes": false,
      "dependsOn": [
        "DT-019"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "e2e",
          "desc": "\u624b\u52a8\u5bfc\u822a\u5230 / \u65f6 Dashboard tab \u9ad8\u4eae"
        },
        {
          "type": "e2e",
          "desc": "Stage \u5207\u6362\u540e tab \u6807\u7b7e\u6570\u5b57\u66f4\u65b0"
        }
      ]
    },
    {
      "id": "DT-025",
      "title": "Stage 5 \u5408\u5e76\u540e\u6e05\u7406 worktree",
      "prdSection": "7.5 (L859-884)",
      "priority": 27,
      "passes": false,
      "dependsOn": [
        "DT-002"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "integration",
          "desc": "\u5408\u5e76\u540e .worktrees/{id}/ \u88ab\u5220\u9664"
        }
      ]
    },
    {
      "id": "DT-026",
      "title": ".gitignore \u6dfb\u52a0 worktree \u76ee\u5f55",
      "prdSection": "7.5 (L859-884)",
      "priority": 28,
      "passes": false,
      "dependsOn": [
        "DT-002"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": ".worktrees/ not tracked",
          "command": "grep -q '.worktrees/' .gitignore",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "unit",
          "desc": ".worktrees/ \u4e0d\u88ab git track"
        }
      ]
    },
    {
      "id": "DT-027",
      "title": "\u5220\u9664\u5e9f\u5f03\u7ec4\u4ef6",
      "prdSection": "7.5 (L859-884)",
      "priority": 29,
      "passes": false,
      "dependsOn": [
        "DT-015",
        "DT-021"
      ],
      "evals": [
        {
          "type": "code-based",
          "blocking": true,
          "description": "Typecheck passes",
          "command": "npx tsc --noEmit",
          "expect": "exit-0"
        },
        {
          "type": "code-based",
          "blocking": true,
          "description": "Next.js build passes",
          "command": "cd viewer && npx next build",
          "expect": "exit-0"
        }
      ],
      "testCases": [
        {
          "type": "typecheck",
          "desc": "TypeScript \u7f16\u8bd1\u901a\u8fc7"
        },
        {
          "type": "unit",
          "desc": "\u65e0\u7f16\u8bd1\u9519\u8bef\uff0cbuild \u6210\u529f"
        }
      ]
    }
  ],
  "sessions": [
    {
      "id": "S1",
      "tasks": [
        "DT-000a",
        "DT-000",
        "DT-001",
        "DT-002",
        "DT-003"
      ],
      "reason": "Phase 1 BotoolAgent.sh \u5e76\u53d1\u5316 \u2014 \u987a\u5e8f\u4f9d\u8d56\u94fe (\u76ee\u5f55\u91cd\u7ec4\u2192\u53cc\u5199\u6d88\u9664\u2192\u52a8\u6001 session\u2192worktree\u2192cleanup)"
    },
    {
      "id": "S2",
      "tasks": [
        "DT-004",
        "DT-005",
        "DT-006",
        "DT-007"
      ],
      "reason": "Phase 2 API \u5c42 per-project \u72b6\u6001 \u2014 DT-004 \u662f\u57fa\u7840\uff0cDT-005/006/007 \u53ef\u5e76\u884c"
    },
    {
      "id": "S3",
      "tasks": [
        "DT-008",
        "DT-009",
        "DT-010",
        "DT-011",
        "DT-012",
        "DT-013"
      ],
      "reason": "Phase 3 \u524d\u534a\u6bb5 \u2014 \u6838\u5fc3\u7c7b\u578b\u5b9a\u4e49\u548c\u57fa\u7840\u7ec4\u4ef6\uff08Sheet\u3001Requirement \u7c7b\u578b\u3001API\u3001Context\u3001\u8fdb\u5ea6\u6761\u3001\u5361\u7247\u3001\u62bd\u5c49\uff09"
    },
    {
      "id": "S4",
      "tasks": [
        "DT-014",
        "DT-015",
        "DT-016",
        "DT-017"
      ],
      "reason": "Phase 3 \u540e\u534a\u6bb5 \u2014 \u9875\u9762\u7ea7\u91cd\u5199\uff08\u65b0\u5efa\u5bf9\u8bdd\u6846\u3001Dashboard\u3001Rules\u3001Stage \u8def\u7531\u517c\u5bb9\uff09"
    },
    {
      "id": "S5",
      "tasks": [
        "DT-018",
        "DT-019",
        "DT-020",
        "DT-021",
        "DT-022",
        "DT-023",
        "DT-024"
      ],
      "reason": "Phase 4 Header Tab Bar \u2014 Tab \u7cfb\u7edf\u5b8c\u6574\u5b9e\u73b0\uff08TabContext\u2192TabBar\u2192Header\u2192\u63a5\u5165\u2192\u540c\u6b65\uff09"
    },
    {
      "id": "S6",
      "tasks": [
        "DT-025",
        "DT-026",
        "DT-027"
      ],
      "reason": "Phase 5 \u6e05\u7406\u6536\u5c3e \u2014 Worktree \u6e05\u7406 + gitignore + \u5e9f\u5f03\u7ec4\u4ef6\u5220\u9664"
    }
  ]
}