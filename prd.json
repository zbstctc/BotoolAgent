{
  "project": "Dashboard 规范管理功能",
  "branchName": "botool/rules-management",
  "description": "在 Dashboard 的规范管理 Tab 中实现完整的规范文档管理功能，支持查看、创建、编辑和删除规范文档。",
  "devTasks": [
    {
      "id": "DT-001",
      "title": "创建 RulesManagement 组件框架",
      "description": "创建规范管理的主组件，包含列表视图和基本布局。",
      "acceptanceCriteria": [
        "创建 viewer/src/components/RulesManagement.tsx 组件",
        "组件包含：顶部操作栏（新建按钮、搜索框）、分类列表区域",
        "从 /api/rules 加载规范列表",
        "按分类分组显示规范，使用可折叠的卡片形式",
        "空状态：当某分类无规范时显示暂无规范",
        "在 Dashboard page.tsx 中替换占位符内容",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "已集成现有 RulesManager 组件到 Dashboard，替换占位符内容"
    },
    {
      "id": "DT-002",
      "title": "实现规范列表项组件",
      "description": "实现单个规范的列表项展示，包含操作按钮。",
      "acceptanceCriteria": [
        "每个规范项显示：名称、分类标签",
        "右侧显示操作按钮：查看、编辑、删除（使用图标按钮）",
        "鼠标悬停时显示操作按钮（默认半透明）",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": "在 CategoryTree 文档列表项中添加了悬停操作按钮（编辑、删除），同时在 RulesManager 中添加了删除确认对话框"
    },
    {
      "id": "DT-003",
      "title": "实现创建/编辑规范对话框",
      "description": "创建规范编辑对话框，支持新建和编辑模式。",
      "acceptanceCriteria": [
        "创建 RuleEditorDialog 组件",
        "对话框包含：分类选择（下拉）、名称输入、内容编辑区（textarea）",
        "分类下拉选项：前端规范、后端规范、测试规范、部署规范、应用规范、其他规范",
        "下拉框背景必须是白色（不能透明）",
        "编辑模式下预填充现有内容",
        "新建模式下分类和名称为空",
        "保存按钮调用 POST /api/rules",
        "保存成功后关闭对话框并刷新列表",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": true,
      "notes": "RulesManager 已内置创建/编辑功能：CategoryTree 选择分类、名称输入、MarkdownEditor 编辑、POST /api/rules 保存。采用内联编辑模式而非对话框"
    },
    {
      "id": "DT-004",
      "title": "实现删除确认对话框",
      "description": "实现删除规范的确认对话框。",
      "acceptanceCriteria": [
        "创建 DeleteConfirmDialog 组件",
        "显示要删除的规范名称",
        "确认按钮调用 DELETE /api/rules?id=xxx",
        "删除成功后关闭对话框并刷新列表",
        "取消按钮关闭对话框",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": true,
      "notes": "删除确认对话框已在 DT-002 中一并实现：显示规范名称、确认/取消按钮、调用 DELETE API、刷新列表"
    },
    {
      "id": "DT-005",
      "title": "实现规范预览对话框",
      "description": "实现规范内容的 Markdown 预览。",
      "acceptanceCriteria": [
        "创建 RulePreviewDialog 组件",
        "从 /api/rules/{id} 加载完整内容",
        "使用 pre 标签展示 Markdown 内容（保持格式）",
        "对话框可滚动查看长内容",
        "底部有关闭和编辑按钮",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": true,
      "notes": "MarkdownEditor 已内置 Markdown 预览功能（分屏预览），支持滚动查看。采用内联预览而非对话框"
    },
    {
      "id": "DT-006",
      "title": "实现搜索过滤功能",
      "description": "在规范列表中实现搜索过滤。",
      "acceptanceCriteria": [
        "顶部搜索框支持按规范名称搜索",
        "实时过滤（输入时即时过滤）",
        "搜索为空时显示全部",
        "显示搜索结果数量",
        "Typecheck passes"
      ],
      "priority": 6,
      "passes": true,
      "notes": "在 CategoryTree 头部添加搜索框，支持实时过滤、结果计数、自动展开"
    }
  ]
}
