# BotoolAgent 配置文件
# 复制此文件为 .botoolrc 并根据需要修改配置
# 所有配置项都有默认值，未设置的项将使用默认值
# 配置优先级：环境变量 > .botoolrc > 默认值

# ============================================================================
# 基础配置
# ============================================================================

# 最大迭代次数
# 默认: 10
MAX_ITERATIONS=10

# 每次迭代的超时时间（秒）
# 默认: 1800 (30分钟)
ITERATION_TIMEOUT=1800

# 每次迭代的最大重试次数
# 默认: 3
MAX_RETRIES=3

# 进程健康检查间隔（秒）
# 用于检测 Claude 进程是否卡住
# 默认: 10
HEALTH_CHECK_INTERVAL=10

# 进程卡住判定阈值
# 连续多少次健康检查都是 0% CPU 时判定为卡住
# 默认: 30 (30 * 10秒 = 5分钟)
STALL_THRESHOLD=30

# 网络检查重试间隔（秒）
# 默认: 30
NETWORK_RETRY_INTERVAL=30

# ============================================================================
# Rate Limiting 配置
# ============================================================================

# 是否启用 Rate Limiting
# 限制单位时间内的 API 调用次数
# 默认: true
RATE_LIMIT_ENABLED=true

# 时间窗口内最大调用次数
# 默认: 100
RATE_LIMIT_MAX_CALLS=100

# 时间窗口（秒）
# 默认: 3600 (1小时)
RATE_LIMIT_WINDOW=3600

# ============================================================================
# Circuit Breaker 配置
# ============================================================================

# 是否启用 Circuit Breaker
# 连续多次迭代无进展时自动停止
# 默认: true
CIRCUIT_BREAKER_ENABLED=true

# 无进展迭代次数阈值
# 连续多少次迭代没有完成新任务时触发停止
# 默认: 3
CIRCUIT_BREAKER_THRESHOLD=3

# ============================================================================
# 网络健康检查配置
# ============================================================================

# 是否启用运行时网络健康检查
# 检测 Claude 进程是否有网络活动
# 默认: true
NETWORK_HEALTH_CHECK_ENABLED=true

# 网络健康检查间隔（秒）
# 默认: 60
NETWORK_HEALTH_CHECK_INTERVAL=60

# 无网络活动阈值（秒）
# 超过此时间无网络活动将重启进程
# 默认: 300 (5分钟)
NETWORK_NO_ACTIVITY_THRESHOLD=300

# ============================================================================
# Hooks 配置（可选）
# ============================================================================

# 每次迭代开始前执行的脚本
# HOOK_PRE_ITERATION="./hooks/pre-iteration.sh"

# 每次迭代完成后执行的脚本
# HOOK_POST_ITERATION="./hooks/post-iteration.sh"

# 所有任务完成时执行的脚本
# HOOK_ON_COMPLETE="./hooks/on-complete.sh"

# 发生错误时执行的脚本
# HOOK_ON_ERROR="./hooks/on-error.sh"

# ============================================================================
# 通知配置（可选）
# ============================================================================

# 是否启用系统通知
# 默认: false
# NOTIFICATION_ENABLED=false

# ============================================================================
# 环境变量覆盖
# ============================================================================
# 所有配置项都可以通过环境变量覆盖，格式为 BOTOOL_<配置名>
# 例如：
#   BOTOOL_MAX_ITERATIONS=20
#   BOTOOL_TIMEOUT=3600
#   BOTOOL_RETRIES=5
#   BOTOOL_RATE_LIMIT_ENABLED=false
#   BOTOOL_RATE_LIMIT_MAX_CALLS=50
#   BOTOOL_RATE_LIMIT_WINDOW=7200
#   BOTOOL_CIRCUIT_BREAKER_ENABLED=false
#   BOTOOL_CIRCUIT_BREAKER_THRESHOLD=5
#   BOTOOL_NETWORK_HEALTH_CHECK_ENABLED=false
#   BOTOOL_NETWORK_HEALTH_CHECK_INTERVAL=120
#   BOTOOL_NETWORK_NO_ACTIVITY_THRESHOLD=600
