# 前端测试规范

## 测试框架
- E2E 测试使用 Playwright（配置文件：`playwright.config.ts`）
- 测试文件放在 `tests/` 目录，以 `.spec.ts` 结尾

## 组件测试
- 每个关键组件应有对应的测试用例
- 测试文件命名：`{ComponentName}.spec.ts`
- 覆盖：正常渲染、交互行为、边界状态（loading、error、empty）

## E2E 测试要求
- 关键用户流程必须有 E2E 测试覆盖
- 5 阶段工作流（Stage 1-5）各自的核心路径
- 测试应独立运行，不依赖其他测试的状态

## 页面测试清单
- Dashboard：项目列表渲染、新建项目、导入 PRD
- Stage 1：问答交互、PRD 预览、保存
- Stage 2：规范选择、PRD 转 JSON
- Stage 3：Agent 启动/停止、状态轮询
- Stage 5：合并操作

## 断言规范
- 使用 Playwright 的 `expect()` 断言
- 页面导航后等待元素出现（`waitForSelector`）
- 网络请求验证使用 `page.waitForResponse()`
